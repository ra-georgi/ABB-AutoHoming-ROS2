# ABB_AutoHoming_ROS2
Executes collision-free homing for ABB manipulators

![Testing with Robotstudio and ROS on same PC](Yumi_AH_Local.gif) 

Restores the manipulator to a predefined safe joint-target ("Home Position") using collision free paths generated by Moveit2 before starting production or for continuing assembly after an error. Uses socket communication to first retrieve the current joint angles of the manipulator before sending joint targets based on trajectories generated by MoveIt. STEP or STL files of the work environment is required to create the planning scene for MoveIt path planning.

## Benefits

* Changes to Cell layout and robot tooling can be incorporated by updating 3d geometry files once
* Eliminate need for programming fixed/heuristic-based paths for homing which may not properly reason about tool orientation resulting in further collisions
*	As the uncertainty related to heuristic-based paths has been reduced, the time taken for the homing procedure can be reduced by increasing the robot speed
*	Supports deployment by reducing the amount of operator intervention required

## Steps to run

For running in Gazebo, run 
```
ros2 launch yumi_main_autohoming yumi_gazebo_launch.py 
```
and 
```
ros2 launch moveit_cpp_send_cmds yumi_gazebo_launch.py
```
in separate tabs.

To run with a robotstudio controller, upload the RAPID modules and update the IP addresses both in the rapid code as well as the ROS2 nodes. Finally run 
```
ros2 launch yumi_main_autohoming yumi_socket_launch.py
```

A docker image which has been tested is also available here: https://hub.docker.com/r/rgeorgi24/ros2_test/tags



#### Note: The ABB Yumi URDF used here is based off the yumi repository by yumi-crew (https://github.com/yumi-crew/yumi)
